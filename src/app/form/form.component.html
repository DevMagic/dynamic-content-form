 <div class='form-wrapper'>
  <form (ngSubmit)="onSubmit()" [formGroup]="form">
    <div *ngFor="let question of questions" class="form-row">
      <app-question [question]="question" [form]="form" *ngIf="question.step == currentStep"></app-question>
    </div> 

    <div class="form-row" id='buttons'>
      <button type="button" class='btn' (click)="goToPreviousStep()" *ngIf="currentStep > 1 && !loading"
        class="btn back-button" [innerHTML]="Voltar"></button>
      <div class="form-row align-right next-button">
        
        <button type="submit" id="btn-{{currentStep}}" class='animated faster btn default-button'
          [ngClass]="{'disabled': !isValidFormStep() || !form.controls['terms'].value }" *ngIf="currentStep < maxSteps"
          [innerHTML]="'PrÃ³ximo'">
          <span class="fas fa-arrow-right"></span>
        </button>

        <button type="submit" id="btn-{{currentStep}}"
          [ngClass]="{'disabled': !isValidFormStep() || !form.controls['terms'].value }"
          class='animated faster btn default-button' *ngIf="!loading && currentStep == maxSteps"
          [innerHTML]="Enviar"></button>
        <button *ngIf='loading && currentStep == maxSteps' class='button btn default-button is-loading'></button>
      </div>
    </div>
  </form>
</div>